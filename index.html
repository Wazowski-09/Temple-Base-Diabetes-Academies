<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Open Book Gallery</title>
  <style>
    :root{
      --bg:#efeae0;
      --paper:#fffdf7;
      --shadow:rgba(30,30,30,0.18);
      --accent:#6b4f9f;
      --gap:24px;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Noto Sans', 'Helvetica Neue', Arial;
    }
    html,body{height:100%;margin:0;}
    body{
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg,var(--bg), #efe6da);
      color:#222;
    }
    .stage{
      width:min(1100px,94vw);
      height:min(680px,86vh);
      perspective:1600px;
      position:relative;
      display:flex;align-items:center;justify-content:center;
    }
    .book{width:100%;height:100%;max-width:1000px;max-height:700px;position:relative;}
    .pages{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;}
    .page-spread{
      width:calc(100% - 40px);
      height:calc(100% - 120px);
      display:flex;
      box-shadow: 0 20px 60px var(--shadow);
      background:linear-gradient(180deg, #fff 0%, var(--paper) 100%);
      border-radius:12px;
      overflow:hidden;
    }
    .page{
      flex:1;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg, rgba(255,255,255,0.99), rgba(250,250,250,0.95));
    }
    .page img{max-width:100%;max-height:100%;object-fit:cover;display:block;}
    .controls{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);display:flex;gap:12px;}
    .btn{background:var(--paper);border-radius:10px;padding:8px 14px;box-shadow:0 6px 18px rgba(0,0,0,0.12);cursor:pointer;}
    .indicator{font-size:14px;color:#444;opacity:0.9;}
    .thumbs{position:absolute;left:18px;top:18px;display:flex;gap:10px;flex-direction:column;max-height:40vh;overflow:auto;}
    .thumbs img{width:56px;height:40px;object-fit:cover;border-radius:6px;box-shadow:0 6px 12px rgba(0,0,0,0.08);cursor:pointer;border:2px solid transparent;}
    .thumbs img.active{border-color:var(--accent);}
    .contact-page{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;width:100%;height:100%;text-align:center;font-size:1.2rem;font-weight:600;}
    .contact-page a{text-decoration:none;background:var(--paper);padding:10px 16px;border-radius:10px;box-shadow:0 8px 18px rgba(0,0,0,0.10);color:inherit;}
  </style>
</head>
<body>
  <div class="stage">
    <div class="book" id="book">
      <div class="pages" id="pages"></div>
      <div class="controls">
        <button class="btn" id="prevBtn">‚üµ ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
        <div class="indicator" id="indicator"></div>
        <button class="btn" id="nextBtn">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚ü∂</button>
      </div>
      <div class="thumbs" id="thumbs"></div>
    </div>
  </div>
  <script>
    const IMAGES = [
      'image/Temple-base diabetes academies-1.JPG','image/Temple-base diabetes academies-2.JPG','image/Temple-base diabetes academies-3.JPG','image/Temple-base diabetes academies-4.JPG',
      'image/Temple-base diabetes academies-5.JPG','image/Temple-base diabetes academies-6.JPG','image/Temple-base diabetes academies-7.JPG','image/Temple-base diabetes academies-8.JPG'
    ];
    const FACEBOOK_URL = 'https://www.facebook.com/share/1CRxaWsUmp/?mibextid=wwXIfr';
    const YOUTUBE_URL = 'https://www.facebook.com/share/1CRxaWsUmp/?mibextid=wwXIfr';

    function getSpreads(){
      const spreads = [];
      const isTwoPage = window.innerWidth >= 900; // ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏≠
      if(isTwoPage){
        for(let i=0;i<IMAGES.length;i+=2){
          spreads.push([IMAGES[i], IMAGES[i+1] || '']);
        }
        spreads.push(['CONTACT_PAGE','']);
      } else {
        IMAGES.forEach(img=>spreads.push([img]));
        spreads.push(['CONTACT_PAGE']);
      }
      return spreads;
    }

    let spreads = getSpreads();

    const pagesEl = document.getElementById('pages');
    const thumbsEl = document.getElementById('thumbs');
    const indicator = document.getElementById('indicator');
    let current = 0;

    function renderSpread(index){
      pagesEl.innerHTML = '';
      const spread = spreads[index];
      const spreadEl = document.createElement('div');
      spreadEl.className = 'page-spread';
      spreadEl.style.flexDirection = (spread.length === 1 || !spread[1]) ? 'column' : 'row';
      spread.forEach(item => {
        const page = document.createElement('div');
        page.className = 'page';
        if(item === 'CONTACT_PAGE'){
          page.innerHTML = `<div class="contact-page">
            <div>üìû ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</div>
            <div>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå : 089-072-2899, 094-512-5546</div>
            <a href="${FACEBOOK_URL}" target="_blank">Facebook</a>
            <a href="${YOUTUBE_URL}" target="_blank">YouTube</a>
          </div>`;
        } else if(item){
          const img = document.createElement('img');
          img.src = item;
          page.appendChild(img);
        }
        spreadEl.appendChild(page);
      });
      pagesEl.appendChild(spreadEl);
      indicator.textContent = `‡∏´‡∏ô‡πâ‡∏≤ ${index+1} / ${spreads.length}`;
      updateActiveThumb(index);
    }

    function prev(){if(current>0){current--;renderSpread(current)}}
    function next(){if(current<spreads.length-1){current++;renderSpread(current)}}
    function renderThumbs(){
      thumbsEl.innerHTML = '';
      spreads.forEach((s,i)=>{
        const img = document.createElement('img');
        img.src = s[0] === 'CONTACT_PAGE' ? 'images/contact-thumb.jpg' : (s[0] || s[1] || '');
        img.addEventListener('click',()=>{current=i;renderSpread(current);});
        thumbsEl.appendChild(img);
      });
    }
    function updateActiveThumb(idx){
      thumbsEl.querySelectorAll('img').forEach((im,i)=>im.classList.toggle('active',i===idx));
    }

    document.getElementById('prevBtn').addEventListener('click',prev);
    document.getElementById('nextBtn').addEventListener('click',next);
    window.addEventListener('resize',()=>{
      spreads = getSpreads();
      if(current >= spreads.length) current = spreads.length - 1;
      renderThumbs();
      renderSpread(current);
    });

    renderThumbs();
    renderSpread(0);
  </script>
</body>
</html>
